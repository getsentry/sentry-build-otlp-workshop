# =============================================================================
# OTEL E-COMMERCE API - ENVIRONMENT VARIABLES
# =============================================================================

# =============================================================================
# MODE 1: DIRECT (OTEL SDK ‚Üí Sentry)
# =============================================================================
# Single service sending directly to a single Sentry project.
# This demonstrates standard OTEL SDK usage with Sentry.
#
# To run:
#   npm start  (or: npm run direct)
#
# Get these values from:
#   Sentry ‚Üí Settings ‚Üí Projects ‚Üí [Your Project] ‚Üí Client Keys (DSN)
#   Click on a DSN ‚Üí scroll to "OTLP Configuration"
# =============================================================================

OTEL_SERVICE_NAME=sentry-build-otlp-workshop-api

OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PROJECT-ID/integration/otlp/v1/logs
OTEL_EXPORTER_OTLP_LOGS_HEADERS=x-sentry-auth=sentry sentry_key=YOUR_PUBLIC_KEY

OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PROJECT-ID/integration/otlp/v1/traces
OTEL_EXPORTER_OTLP_TRACES_HEADERS=x-sentry-auth=sentry sentry_key=YOUR_PUBLIC_KEY

# =============================================================================
# MODE 2: COLLECTOR (Multi-Project Routing)
# =============================================================================
# Microservices architecture with routing to separate Sentry projects.
#
# Architecture:
#   Gateway (port 3000) + Products (port 3001) + Orders (port 3002)
#   ‚Üí OTEL Collector routes by service.name to separate Sentry projects
#
# To run:
#   npm run collector:all  (starts all services with one command)
#
# Setup:
#   1. Create 2 Sentry projects (Products, Orders)
#   2. Get OTLP endpoints for each project (see below for instructions)
#   3. Fill in the variables below
#
# Get OTLP endpoints from Sentry:
#   Settings ‚Üí Projects ‚Üí [Your Project] ‚Üí Client Keys (DSN) ‚Üí OTLP Configuration
#
# See docs/MULTI_PROJECT_ROUTING.md for detailed explanation.
# =============================================================================

# Products Service ‚Üí Products Sentry Project üì¶
SENTRY_PRODUCTS_LOGS_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PRODUCTS-PROJECT-ID/integration/otlp/v1/logs
SENTRY_PRODUCTS_TRACES_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PRODUCTS-PROJECT-ID/integration/otlp/v1/traces
# When copying from Sentry settings, paste the part AFTER "x-sentry-auth="
# Example: if Sentry shows "x-sentry-auth=sentry sentry_key=ABC", paste "sentry sentry_key=ABC"
SENTRY_PRODUCTS_AUTH=sentry sentry_key=YOUR_PRODUCTS_PUBLIC_KEY,sentry_version=7

# Orders Service ‚Üí Orders Sentry Project üìä
SENTRY_ORDERS_LOGS_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-ORDERS-PROJECT-ID/integration/otlp/v1/logs
SENTRY_ORDERS_TRACES_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-ORDERS-PROJECT-ID/integration/otlp/v1/traces
# When copying from Sentry settings, paste the part AFTER "x-sentry-auth="
# Example: if Sentry shows "x-sentry-auth=sentry sentry_key=ABC", paste "sentry sentry_key=ABC"
SENTRY_ORDERS_AUTH=sentry sentry_key=YOUR_ORDERS_PUBLIC_KEY,sentry_version=7

# Python Inventory Service ‚Üí Python Sentry Project üêç (Optional - see python-service/README.md)
# NOTE: Python can send DIRECTLY to Sentry without the collector using just the DSN!
# These collector variables are optional if you want to route Python through the collector
SENTRY_PYTHON_LOGS_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PYTHON-PROJECT-ID/integration/otlp/v1/logs
SENTRY_PYTHON_TRACES_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PYTHON-PROJECT-ID/integration/otlp/v1/traces
# When copying from Sentry settings, paste the part AFTER "x-sentry-auth="
# Example: if Sentry shows "x-sentry-auth=sentry sentry_key=ABC", paste "sentry sentry_key=ABC"
SENTRY_PYTHON_AUTH=sentry sentry_key=YOUR_PYTHON_PUBLIC_KEY,sentry_version=7

# Port configuration for collector mode services
PRODUCTS_PORT=3001
ORDERS_PORT=3002
PYTHON_PORT=3003

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

NODE_ENV=development
PORT=3000

# =============================================================================
# DATABASE (PostgreSQL via Neon)
# =============================================================================
# Get from: https://console.neon.tech
# Or run: npx neondb -y (auto-creates database and adds URL to .env)
# =============================================================================